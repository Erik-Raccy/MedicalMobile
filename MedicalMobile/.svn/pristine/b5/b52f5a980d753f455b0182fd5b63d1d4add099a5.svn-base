package com.se3a04.medicalmobile;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

public class Profile extends Activity {

	private boolean invisible = false;
	String sentType, display_name;
	Button graph, infoChange, history;
	TextView name_display, height_display, address_display, birthday_display,
			telephone_display, weight_display, bp_display, powers_display;

	TextView height_tag, weight_tag, bp_tag, powers_tag;

	@Override
	protected void onCreate(Bundle savedInstanceState) {

		Bundle extras = getIntent().getExtras();

		super.onCreate(savedInstanceState);
		setContentView(R.layout.profile);

		name_display = (TextView) findViewById(R.id.name_display);
		address_display = (TextView) findViewById(R.id.address_display);
		birthday_display = (TextView) findViewById(R.id.birthday_display);
		telephone_display = (TextView) findViewById(R.id.telephone_display);
		height_display = (TextView) findViewById(R.id.height_display);
		weight_display = (TextView) findViewById(R.id.weight_display);
		bp_display = (TextView) findViewById(R.id.bp_display);
		powers_display = (TextView) findViewById(R.id.powers_display);

		// text field that need to be made invisible
		height_tag = (TextView) findViewById(R.id.height_tag);
		weight_tag = (TextView) findViewById(R.id.weight_tag);
		bp_tag = (TextView) findViewById(R.id.bp_tag);
		powers_tag = (TextView) findViewById(R.id.powers_tag);
		/**
		 * This set of code below will be referring to the database instead of
		 * blah
		 */

		name_display.setText(MainMenu.display_name);
		address_display.setText("blah");
		birthday_display.setText("blah");
		telephone_display.setText("blah");
		// if selected is from patient/staff list, dont display confidential
		// info
		
		
		if (extras != null) {

			sentType = extras.getString("typeSend");
			display_name = extras.getString("nameSend");
			
			name_display.setText(display_name);
		
			height_display.setVisibility(View.GONE);
			weight_display.setVisibility(View.GONE);
			bp_display.setVisibility(View.GONE);
			powers_display.setVisibility(View.GONE);

			height_tag.setVisibility(View.GONE);
			weight_tag.setVisibility(View.GONE);
			bp_tag.setVisibility(View.GONE);
			powers_tag.setVisibility(View.GONE);
			invisible = true;
		}
		// else if name is own user's
		else {
			sentType = MainMenu.display_name;
			height_display.setText("blah");
			weight_display.setText("blah");
			bp_display.setText("blah");
			powers_display.setText("blah");
			if (invisible) {
				height_display.setVisibility(View.VISIBLE);
				weight_display.setVisibility(View.VISIBLE);
				bp_display.setVisibility(View.VISIBLE);
				powers_display.setVisibility(View.VISIBLE);

				height_tag.setVisibility(View.VISIBLE);
				weight_tag.setVisibility(View.VISIBLE);
				bp_tag.setVisibility(View.VISIBLE);
				powers_tag.setVisibility(View.VISIBLE);
			}
		}
		

		profileListener();

	}

	// need name and type of user to display profile.
	String name = MainMenu.display_name;
	String SentType = MainMenu.sentType;

	public void profileListener() {
		graph = (Button) findViewById(R.id.graph);
		infoChange = (Button) findViewById(R.id.request_info_change);
		history = (Button) findViewById(R.id.appointments);

		graph.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View arg0) {
				Intent toGraphOptions = new Intent(getApplicationContext(),
						GraphActivity.class);
				startActivity(toGraphOptions);
			}

		});

		infoChange.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View arg0) {
				Intent toInfoChange = new Intent(getApplicationContext(),
						InfoChange.class);
				startActivity(toInfoChange);
			}

		});
		history.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View arg0) {
				Intent toHistory = new Intent(getApplicationContext(),
						AppointmentHistory.class);
				startActivity(toHistory);
			}

		});

	}
}
